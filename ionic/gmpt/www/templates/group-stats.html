<ion-view view-title="Stats">

    <ion-nav-buttons side="left">
        <button ui-sref="groups" class="button button-icon icon" id="makewhite">Groups</button>
    </ion-nav-buttons>

    <ion-nav-buttons side="right">
        <button class="button button-icon icon" id="makewhite" ng-if="isProf == true">Professor View</button>
    </ion-nav-buttons>

    <ion-content class="padding">
        <div class="row">
            <div class="col center">
                <div class="stats-badge">
                    <div class="stats-text">{{stats.totalNumOfMeetings}}</div>
                </div>
            </div>
            <!--
  		<div class="col center">
    		<div class="stats-badge"><div class="stats-text">{{stats.totalNumOfMeetings}}</div></div>
    	</div>
-->
            <!--
    	<div class="col center">
    		<div class="stats-badge"><div class="stats-text">{{stats.totalNumOfChatMessages}}</div></div>
    	</div>
-->
            <div class="col center">
                <div class="stats-badge">
                    <div class="stats-text">{{stats.totalNumOfChatMessages}}</div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col">
                <div class="h3 text-center">Team Meetings</div>
            </div>
            <div class="col">
                <div class="h3 text-center">Team Messages</div>
            </div>
        </div>

        <div class="bar gmptMainColor" id="statBar">

            <button class="button sortOrderButton" id="gmptbtn" ng-click="toggleSort()">{{sort}}</button>

            <div>

                <select class="pull-right" ng-model="sortby" ng-change="filterChange(sortby)" default="numOfMessages">
                    <option value="numOfMessages">Messages Sent</option>
                    <option value="attendanceRate">Attendence Rate</option>
                </select>

            </div>

        </div>

        <div>

            <div ng-if="showMemberStats == false">Your group has not had any meetings.</div>
            <ion-list id="teamList">

                <ion-item ng-repeat="member in stats.members">
                    <div class="row">
                        <div class="col h3">{{member.username}}</div>
                    </div>
                    <div class="row">
                       
                        <div class="col col-50">
                            <div class="stats-text-small stats-badge-small center">{{member.attendanceRate}}%</div>
                            
                            </div>
                        
                        <div class=" col col-50">
                            <div class="stats-text-small stats-badge-small center">{{member.numOfMessages}}</div>
                        </div>

                    </div>
                    
                    <div class="row">
                        <div class="col col-50 text-center">
                            Attendance Rate
                        </div>
                        <div class="col col-50 text-center">
                            Messages Sent
                        </div>
                    </div>
                </ion-item>

            </ion-list>

        </div>

    </ion-content>
</ion-view>
