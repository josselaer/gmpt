<ion-view view-title="Your Groups">

  <ion-nav-buttons side="left">
      <button menu-toggle="left" class="button button-icon icon ion-ios-person" ui-sref="account"> Account</button>
  </ion-nav-buttons>

  <ion-nav-buttons side="right">
    <a class="button icon ion-android-add" href="#/addgroup">New</a>  
  </ion-nav-buttons>
    
  <ion-content class="has-header">

    <div ng-switch="activeMeeting.active">

      <div ng-switch-when="true">
        <button class="button button-full button-positive" ng-click="checkin()">Hey, there's a meeting going on. Check in here!</button>
      </div>
      <div ng-switch-default>
      </div>

    </div>

    <ion-list>
      <ion-item class="item" ng-repeat="group in groups" type="item-text-wrap" ui-sref="group.chat({groupID:group.ProjectID})" ng-click="setGroup(group.ProjectID)">
        <h2>{{group.GroupName}}</h2>

        <div ng-switch on="group.NextMeetingDate">
          <div ng-switch-when="null">
            <h4 class="item-text-right">No upcoming meetings.</h4>
          </div>
          <div ng-switch-default>
            <h4 class=" item-text-right">Upcoming meeting: {{group.NextMeetingDate}} at {{group.NextMeetingTime}}</h4>
          </div>
        
        <div ng-switch on="group.Notification">
          <div ng-switch-when="0">
            <span class="badge badge-secondary"><h2>{{group.Notification}}</h2></span>
          </div>
          <div ng-switch-default>
            <span class="badge badge-assertive"><h2>{{group.Notification}}</h2></span>
          </div>
        </div>
      </ion-item>
      
    </ion-list>
  </ion-content>
</ion-view>
