<ion-view view-title="Chat">
    
      <ion-nav-buttons side="left">
          <button ui-sref="groups" class="button button-icon icon" id="makewhite">Groups</button>
      </ion-nav-buttons>

      <ion-nav-buttons side="right">
          <button class="button button-icon icon" ng-if="isProf == true" id="makewhite">Professor View</button>
      </ion-nav-buttons>
  
  <ion-content>
    <ion-list>
      <ion-item class="item-remove-animate item-text-wrap" ng-repeat="message in messages | orderBy : message.timeDate : true">
        <div class="row"><h2>{{message.sender}} <i ng-if="message.anonymous == true && isProf == true" class="icon ion-ios-person-outline "></i>:</h2>
          <span class="pull-right">{{message.timeDate | date:'shortTime'}} {{message.timeDate | date:'shortDate'}}</span>
        </div>
        <div class="row">
          {{message.text}}
        </div>
      </div>

        </div>
      </ion-item>
    </ion-list>
  </ion-content>

 
  <ion-footer-bar ng-if="isProf == false" class="bar-stable item-input-inset message-footer" keyboard-attach>
    <div class="footer-btn-wrap">
      <div ng-switch on="chatsctrl.anonymous">
        <div ng-switch-when="true">
            <button class="button button-light footer-btn" ng-click="chatsctrl.toggleAnonymous()"><i class="icon ion-ios-person-outline "></i></button>
        </div>
        <div ng-switch-when="false">
            <button class="button button-light footer-btn card-3" ng-click="chatsctrl.toggleAnonymous()" id="gmptbtn"><i class="icon ion-ios-person "></i></button>
        </div>
      </div>
    </div>

    <label class="item-input-wrapper">
        <input class="item-input-wrapper" ng-model="message.text" value="" placeholder="Send a message..." required minlength="1" maxlength="1500" msd-elastic>
    </label>

    <div class="footer-btn-wrap">
      <button class="button footer-btn button-small button-positive card-3" ng-click="chatsctrl.send()" id="gmptbtn">Send
      </button>
    </div>
  </ion-footer-bar>
 
</ion-view>
